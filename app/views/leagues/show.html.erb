<h1><%= @league.name %></h1>

<div>
  <h2>Announcements</h2>
  <% @league.announcements.each do |announcement| %>
    <div class="max-auto">
      <div class="block py-2">
        <h3><%= announcement.title %></h3>
        <p><%= announcement.body %></p>
      </div>
      <div class="block py-2">
        <p>Status: <%= announcement.status %></p>
        <%= link_to 'Edit Announcement', edit_league_announcement_path(@league, announcement) %>
      </div>
    </div>
  <% end %>
  <% if current_user.memberships.find_by(league: @league, membership_type: 'manager') %>
    <%= link_to 'New Announcement', new_league_announcement_path(@league) %>
  <% end %>
</div>

<div>
  <h2>Announcements</h2>
  <% @league.events.each do |event| %>
    <div class="max-auto">
      <div class="block py-2">
        <h3><%= event.inspect %></h3>
      </div>
      <div class="block py-2">
        <%= link_to 'Edit Event', edit_league_event_path(@league, event) %>
      </div>
    </div>
  <% end %>
</div>

<div class="mt-5 flex lg:ml-4 lg:mt-0 pt-12 py-10">
  <span class="hidden sm:block">
    <%= link_to new_league_event_path(league_id: @league.id), class: "inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50"  do %>
      <svg class="-ml-0.5 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
        <path d="M2.695 14.763l-1.262 3.154a.5.5 0 00.65.65l3.155-1.262a4 4 0 001.343-.885L17.5 5.5a2.121 2.121 0 00-3-3L3.58 13.42a4 4 0 00-.885 1.343z" />
      </svg>                    
      Create Event
    <% end %>
  </span>
</div>