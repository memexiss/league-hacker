<%= render "layouts/sidebar" %>
<main class="py-10 lg:pl-72 pl-4 mx-auto">
  <div class='px-10 lg:px-20'>
  <div class="lg:flex lg:items-center lg:justify-between">
    <h1 class='text-2xl'>
      <%= link_to admin_league_path(@league), class: "text-blue-500 hover:underline text-indigo-600 hover:text-indigo-900" do %>
        <%= @league.name %>
      <% end %>
    </h1>
      <div class="mt-5 flex lg:ml-4 lg:mt-0">
        <span class="hidden sm:block">
          <%= link_to new_admin_league_event_path(league_id: @league.id), class: "inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50"  do %>
            <svg class="-ml-0.5 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
              <path d="M2.695 14.763l-1.262 3.154a.5.5 0 00.65.65l3.155-1.262a4 4 0 001.343-.885L17.5 5.5a2.121 2.121 0 00-3-3L3.58 13.42a4 4 0 00-.885 1.343z" />
            </svg>                    
            Create Event
          <% end %>
        </span>
      </div>
    </div>

    <div class='flex justify-center gap-1 5 break-all mt-4'>
      <section class='w-2/3'>
          <% @league.events.each do |event| %>
        <ul role="list" class="divide-y divide-gray-100 overflow-hidden bg-white shadow-sm my-5 ring-1 ring-gray-900/5 sm:rounded-xl">
          <li class="relative flex justify-between gap-x-6 px-4 py-5 sm:px-6">
            <div class="flex min-w-0 gap-x-4">
            <div class="block">
              <div class="flex">
                <p class="text-md pr-3">Start Date: <%= event.start_date.to_formatted_s(:short) %></p>
                <p class="text-md ">End Date: <%= event.end_date.to_formatted_s(:short) %></p>
              </div>
              <p class="text-md text-gray-600">Event Type: <%= event.event_type %></p>
            </div>

            </div>
            <div class="flex shrink-0 items-center gap-x-4">
              <div class="hidden sm:flex sm:flex-col sm:items-end">
              <%= link_to admin_league_event_rounds_path(league_id: @league.id, event_id: event.id), class: "inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50" do %>
                View Rounds
              <% end %>
              </div>
            </div>  
            <div class="flex shrink-0 items-center gap-x-4">
              <div class="hidden sm:flex sm:flex-col sm:items-end">
                <%= link_to edit_admin_league_event_path(@league, event), class: "inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50" do %>
                  Edit
                <% end %>
              </div>
            </div>
          </li>
          <ul role="list" class="divide-y bg-gray-50 divide-gray-100 overflow-hidden shadow-sm ring-1 ring-gray-900/5 flex py-3 divide-x border-x border-gray-900/5">
            <div class="mx-auto text-center justify-center text-md">
              Entry Fee <%= event.entry_fee %>
            </div>
            <div class="mx-auto text-center justify-center text-md">
              <% if event.number_of_rounds.nil? || event.number_of_rounds.zero? %>
                No Rounds
              <% else %>
                <%= event.number_of_rounds %> Rounds
              <% end %>
            </div>
            <div class="mx-auto text-center justify-center text-md">
              <%= event.per_round_fee %> Per Round Fee
            </div>
            <div class="mx-auto text-center justify-center text-md">
              <%= event.average_holes_per_round %> Average holes per round
            </div>
          </ul>
          </ul>
          <% end %>
        </ul>
      </section>
    </div>
  </div>
</main>

